---
import BaseLayout from '../../../../../layouts/BaseLayout.astro';
import PhrasesPreview from '../../../../../components/hub/PhrasesPreview.astro';
import FAQSection from '../../../../../components/hub/FAQSection.astro';
import ArticlesGrid from '../../../../../components/hub/ArticlesGrid.astro';
import { LANGUAGE_HUB_DATA, type LanguageHubData } from '../../../../../data/language-hub-data';

// SSR: Get lang from params and look up data (normalize to lowercase)
const { lang } = Astro.params;
const langSlug = lang?.toLowerCase();

// Find language by slug (lowercase name)
const entry = Object.entries(LANGUAGE_HUB_DATA).find(
  ([code, data]) => data.name.toLowerCase() === langSlug
);

if (!entry) {
  return Astro.redirect('/learn/');
}

const [langCode, langData] = entry;

// Find romantic phrases
const lovePhrase = langData.essentialPhrases.find(p =>
  p.translation.toLowerCase().includes('love')
);

// Couples-specific FAQs
const couplesFaqs = [
  {
    question: `How can my partner and I learn ${langData.name} together?`,
    answer: `Start with shared goals‚Äîdecide on a daily practice time and what you want to achieve. Use our app for AI-powered conversations, practice phrases together during meals, watch ${langData.name} movies with subtitles, and quiz each other on vocabulary. The key is making it a fun shared activity, not homework.`
  },
  {
    question: `What romantic ${langData.name} phrases should we learn first?`,
    answer: `Start with "${lovePhrase?.phrase || 'I love you'}" (${lovePhrase?.translation || 'I love you'}), then move to terms of endearment, compliments like "You're beautiful," and expressions like "I miss you." Daily phrases like "Good morning, my love" become natural and romantic.`
  },
  {
    question: `Is ${langData.name} a romantic language?`,
    answer: `${langData.couplesTip} Every language becomes romantic when shared with someone you love‚Äîlearning together creates unique bonds and shared experiences.`
  },
  {
    question: `How long until we can have conversations in ${langData.name}?`,
    answer: `With consistent daily practice (30 minutes together), you can have basic conversations in 2-3 months. The FSI estimates ${langData.fsiHours} hours for full proficiency, but couples often progress faster because they have a built-in practice partner available 24/7.`
  },
  {
    question: `What if one of us learns faster than the other?`,
    answer: `This is completely normal! The faster learner can help reinforce concepts for both of you. Take turns being the "teacher"‚Äîexplaining something you just learned helps cement it. Focus on enjoying the journey together rather than competing.`
  }
];

const jsonLd = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": `Learn ${langData.name} as a Couple - Romantic Phrases & Tips`,
  "description": `Learn ${langData.name} together with your partner. Romantic phrases, terms of endearment, and tips for couples learning ${langData.name}.`,
  "url": `https://www.lovelanguages.io/learn/language/${langData.name.toLowerCase()}/for-couples/`,
  "publisher": {
    "@type": "Organization",
    "name": "Love Languages",
    "url": "https://www.lovelanguages.io"
  }
};
---

<BaseLayout
  title={`Learn ${langData.name} as a Couple - Romantic Phrases & Tips | Love Languages`}
  description={`Learn ${langData.name} together with your partner. Discover romantic phrases, terms of endearment, and tips for couples learning ${langData.name}.`}
  nativeLang="en"
>
  <script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />

  <!-- Hero -->
  <header class="bg-gradient-to-b from-pink-50 to-white">
    <div class="max-w-6xl mx-auto px-4 py-12 md:py-16">
      <div class="text-center max-w-3xl mx-auto">
        <div class="flex justify-center items-center gap-2 mb-4">
          <span class="text-5xl">{langData.flag}</span>
          <span class="text-4xl">üíï</span>
        </div>
        <h1 class="text-3xl md:text-5xl font-black font-header text-gray-900 mb-4">
          Learn {langData.name} Together
        </h1>
        <p class="text-lg md:text-xl text-gray-600 mb-8">
          Romantic phrases, terms of endearment, and tips for couples learning {langData.name} together.
        </p>

        {lovePhrase && (
          <div class="inline-block bg-white rounded-2xl px-8 py-4 shadow-lg border border-accent/20">
            <div class="text-2xl md:text-3xl font-bold text-accent mb-1">{lovePhrase.phrase}</div>
            <div class="text-gray-500">/{lovePhrase.pronunciation}/</div>
            <div class="text-gray-600 mt-1">{lovePhrase.translation}</div>
          </div>
        )}
      </div>
    </div>
  </header>

  <!-- Why Learn Together -->
  <section class="py-12 bg-white">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-bold font-header text-gray-900 mb-6">
        Why Learn {langData.name} as a Couple?
      </h2>

      <div class="prose prose-gray max-w-none mb-8">
        <p class="text-lg text-gray-600">
          {langData.couplesTip}
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-4">
        <div class="p-5 bg-gradient-to-br from-accent/5 to-pink-50 rounded-xl border border-accent/10">
          <span class="text-2xl mb-2 block">üí¨</span>
          <h3 class="font-bold text-gray-900 mb-2">Built-in Practice Partner</h3>
          <p class="text-gray-600 text-sm">Practice conversations anytime‚Äîduring meals, walks, or lazy mornings. Having a partner accelerates learning dramatically.</p>
        </div>
        <div class="p-5 bg-gradient-to-br from-accent/5 to-pink-50 rounded-xl border border-accent/10">
          <span class="text-2xl mb-2 block">üéØ</span>
          <h3 class="font-bold text-gray-900 mb-2">Shared Goals</h3>
          <p class="text-gray-600 text-sm">Working toward a common goal deepens your relationship. Celebrate milestones together and support each other through challenges.</p>
        </div>
        <div class="p-5 bg-gradient-to-br from-accent/5 to-pink-50 rounded-xl border border-accent/10">
          <span class="text-2xl mb-2 block">‚úàÔ∏è</span>
          <h3 class="font-bold text-gray-900 mb-2">Travel Together</h3>
          <p class="text-gray-600 text-sm">Imagine ordering in {langData.name}, navigating together, and connecting with locals on your next trip to {langData.countries[0]}.</p>
        </div>
        <div class="p-5 bg-gradient-to-br from-accent/5 to-pink-50 rounded-xl border border-accent/10">
          <span class="text-2xl mb-2 block">üíù</span>
          <h3 class="font-bold text-gray-900 mb-2">Secret Language</h3>
          <p class="text-gray-600 text-sm">Develop your own private language for endearments, inside jokes, and sweet nothings that only you two understand.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Romantic Phrases -->
  <section class="py-12 bg-gray-50">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-bold font-header text-gray-900 mb-2">
        Romantic {langData.name} Phrases for Couples
      </h2>
      <p class="text-gray-600 mb-8">
        Essential phrases to express your love in {langData.name}.
      </p>

      <div class="grid md:grid-cols-2 gap-4">
        {langData.essentialPhrases.map(phrase => (
          <div class="p-4 bg-white rounded-xl border border-gray-200 hover:border-accent hover:shadow-sm transition-all">
            <div class="text-lg font-bold text-gray-900 mb-1">{phrase.phrase}</div>
            <div class="text-sm text-accent mb-2">/{phrase.pronunciation}/</div>
            <div class="text-gray-600">{phrase.translation}</div>
          </div>
        ))}
      </div>

      <div class="mt-8 text-center">
        <a
          href={`/learn/en/${langCode}/`}
          class="inline-flex items-center gap-2 bg-accent text-white px-6 py-3 rounded-full hover:bg-accent/90 transition-colors font-medium"
        >
          <span>See all {langData.name} lessons</span>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Tips for Couples -->
  <section class="py-12 bg-white">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-bold font-header text-gray-900 mb-8">
        Tips for Learning {langData.name} Together
      </h2>

      <div class="space-y-4">
        <div class="flex gap-4 items-start p-5 bg-gray-50 rounded-xl">
          <span class="w-10 h-10 rounded-full bg-accent text-white flex items-center justify-center font-bold flex-shrink-0">1</span>
          <div>
            <h3 class="font-bold text-gray-900 mb-1">Set a Daily "Language Time"</h3>
            <p class="text-gray-600">Even 15 minutes of focused practice together each day builds momentum. Morning coffee or dinner time works great for many couples.</p>
          </div>
        </div>

        <div class="flex gap-4 items-start p-5 bg-gray-50 rounded-xl">
          <span class="w-10 h-10 rounded-full bg-accent text-white flex items-center justify-center font-bold flex-shrink-0">2</span>
          <div>
            <h3 class="font-bold text-gray-900 mb-1">Use {langData.name} for Daily Rituals</h3>
            <p class="text-gray-600">Say "good morning," "I love you," and "goodnight" in {langData.name}. These small moments add up to significant practice.</p>
          </div>
        </div>

        <div class="flex gap-4 items-start p-5 bg-gray-50 rounded-xl">
          <span class="w-10 h-10 rounded-full bg-accent text-white flex items-center justify-center font-bold flex-shrink-0">3</span>
          <div>
            <h3 class="font-bold text-gray-900 mb-1">Watch {langData.name} Media Together</h3>
            <p class="text-gray-600">Movies, shows, and music in {langData.name} make learning fun. Start with subtitles and gradually reduce them as you improve.</p>
          </div>
        </div>

        <div class="flex gap-4 items-start p-5 bg-gray-50 rounded-xl">
          <span class="w-10 h-10 rounded-full bg-accent text-white flex items-center justify-center font-bold flex-shrink-0">4</span>
          <div>
            <h3 class="font-bold text-gray-900 mb-1">Plan a Trip as Motivation</h3>
            <p class="text-gray-600">Nothing motivates like knowing you'll need {langData.name} soon. Plan a trip to {langData.countries[0]} and set learning goals before you go.</p>
          </div>
        </div>

        <div class="flex gap-4 items-start p-5 bg-gray-50 rounded-xl">
          <span class="w-10 h-10 rounded-full bg-accent text-white flex items-center justify-center font-bold flex-shrink-0">5</span>
          <div>
            <h3 class="font-bold text-gray-900 mb-1">Celebrate Together</h3>
            <p class="text-gray-600">Mark milestones with special dates. First conversation? Dinner at a {langData.name.toLowerCase().includes('italian') ? 'Italian' : langData.name} restaurant. 100 words learned? Treat yourselves!</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Full Articles Grid -->
  <ArticlesGrid
    langCode={langCode}
    langName={langData.name}
    nativeLang="en"
    maxPerCategory={3}
  />

  <FAQSection faqs={couplesFaqs} />

  <!-- Quick Stats -->
  <section class="py-12 bg-white">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-bold font-header text-gray-900 mb-8 text-center">
        {langData.name} at a Glance
      </h2>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <div class="p-4 bg-gray-50 rounded-xl text-center">
          <div class="text-2xl font-bold text-gray-900">{langData.speakers}</div>
          <div class="text-sm text-gray-500">Speakers</div>
        </div>
        <div class="p-4 bg-gray-50 rounded-xl text-center">
          <div class="text-2xl font-bold text-gray-900">{langData.fsiHours}h</div>
          <div class="text-sm text-gray-500">To Fluency</div>
        </div>
        <!-- Star ratings removed -->
        <!--<div class="p-4 bg-gray-50 rounded-xl text-center">
          <div class="text-2xl font-bold text-accent">{'‚òÖ'.repeat(langData.difficultyRating)}{'‚òÜ'.repeat(5 - langData.difficultyRating)}</div>
          <div class="text-sm text-gray-500">Difficulty</div>
        </div>-->
        <div class="p-4 bg-gray-50 rounded-xl text-center">
          <div class="text-2xl font-bold text-gray-900">{langData.familyGroup}</div>
          <div class="text-sm text-gray-500">Language Family</div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="bg-gradient-to-r from-accent to-pink-500 py-16">
    <div class="max-w-2xl mx-auto px-4 text-center text-white">
      <h2 class="text-3xl font-bold font-header mb-4">
        Start Learning {langData.name} Together
      </h2>
      <p class="text-white/90 mb-8">
        Join thousands of couples learning {langData.name} with AI coaching, voice practice, and games designed for two.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a
          href="/"
          class="inline-block bg-white text-accent font-bold px-8 py-4 rounded-full hover:shadow-lg hover:scale-105 transition-all text-lg"
        >
          Start Learning
        </a>
        <a
          href={`/learn/language/${langData.name.toLowerCase()}/`}
          class="inline-block bg-white/20 text-white font-bold px-8 py-4 rounded-full hover:bg-white/30 transition-all text-lg"
        >
          Full {langData.name} Guide
        </a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-100 border-t border-gray-200 py-12">
    <div class="max-w-6xl mx-auto px-4 text-center">
      <a href="/" class="inline-flex items-center gap-2 text-2xl font-bold font-header text-accent mb-4">
        <img src="/favicon.svg" alt="" class="w-8 h-8" />
        Love Languages
      </a>
      <p class="text-gray-600 mb-6">Learn any language together with your partner</p>
      <nav class="flex justify-center gap-6 text-sm text-gray-500">
        <a href="/learn/" class="hover:text-accent">Blog</a>
        <a href="/learn/couples-language-learning/" class="hover:text-accent">For Couples</a>
        <a href="/terms/" class="hover:text-accent">Terms</a>
        <a href="/privacy/" class="hover:text-accent">Privacy</a>
      </nav>
    </div>
  </footer>
</BaseLayout>
